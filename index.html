<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8">
		<title>Project</title>
	</head>

	<body>

		<input id="get 1" type="button" value="get first" />
		<input id="get 2" type="button" value="get second" />
		<h2>info 1</h2>
		<div id="info 1"></div>
		<h2>info 2</h2>
		<div id="info 2"></div>

		<script type="text/javascript">

// on development
// let todaysHost = 'ip:port';
// let todaysHost = '';
//const proxyurl = "https://cors-anywhere.herokuapp.com/";
// stackoverflow.com/questions/43871637/no-access-control-allow-origin-header-is-present-on-the-requested-resource-whe

// on deploy
// fetch('q1')
// on development
// fetch(`${proxyurl}/${todaysHost}/q1`)
// or if cors used ...
// fetch(`${todaysHost}/q1`)

//fetch(`${todaysHost}/q1`)

document.getElementById("get 1").onclick = function() {
						fetch('q1')
							.then(response => { return response.json();
							})
							.then(data => {
								console.log('requested:', data.results.rows);
								document.getElementById("info 1").innerHTML = JSON.stringify(data.results.rows);
							})
							.catch(error => {
								console.log('failed', error)
							});
						}
document.getElementById("get 2").onclick = function() {
						fetch('q2')
							.then(response => { return response.json();
							})
							.then(data => {
								console.log('requested:', data.results.rows);
								document.getElementById("info 2").innerHTML = JSON.stringify(data.results.rows);
							})
							.catch(error => {
								console.log('failed', error)
							});
						}

		</script>
	</body>

</html>
